(this["webpackJsonpgoit-react-hw"]=this["webpackJsonpgoit-react-hw"]||[]).push([[0],{15:function(t,e,n){t.exports={form:"Filter_form__3S2no",title:"Filter_title__w_qIR",input:"Filter_input__1h1sc"}},28:function(t,e,n){t.exports={container:"Container_container__3bprE"}},29:function(t,e,n){t.exports={Title:"Title_Title__2rC4O"}},64:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(12),r=n.n(a),o=n(6),u=n(28),s=n.n(u),i=n(1);function l(t){var e=t.children;return Object(i.jsx)("div",{className:s.a.container,children:e})}var b=n(29),f=n.n(b),j=function(){return Object(i.jsx)("h1",{className:f.a.Title,children:"Phonebook"})},d=n(3),h=n(30),O=n(31),m=n(34),p=n(33),C=n(8),_=n.n(C),g=n(10),v=n.n(g),x=n(19),y=n(11),N=n.n(y),F=n(2),k=Object(F.b)("contacts/fetchContactRequest"),w=Object(F.b)("contacts/fetchContactSuccess"),L=Object(F.b)("contacts/fetchContactError"),S=Object(F.b)("contacts/addContactRequest"),E=Object(F.b)("contacts/addContactSuccess"),B=Object(F.b)("contacts/addContactError"),T=Object(F.b)("contacts/deleteContactRequest"),A=Object(F.b)("contacts/deleteContactSuccess"),R=Object(F.b)("contacts/deleteContactError"),q=Object(F.b)("contacts/changeFilter"),D=Object(F.b)("contacts/clearError");N.a.defaults.baseURL="http://localhost:4000";var M,I,J,H={fetchContacts:function(){return function(){var t=Object(x.a)(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(k()),N.a.get("/contacts").then((function(t){var n=t.data;return e(w(n))})).catch((function(t){return e(L(t))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addContact:function(t,e){return function(){var n=Object(x.a)(v.a.mark((function n(c){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a={name:t,number:e},c(S()),N.a.post("/contacts",a).then((function(t){var e=t.data;return c(E(e))})).catch((function(t){return c(B(t))}));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},deleteContact:function(t){return function(e){e(T()),N.a.delete("/contacts/".concat(t)).then((function(){return e(A(t))})).catch((function(t){return e(R(t))}))}}},P=n(13),z=function(t){return t.phoneBook.filter},U=function(t){return t.phoneBook.contacts},V={getFilter:z,getAllContacts:U,getLoading:function(t){return t.phoneBook.loading},getError:function(t){return t.phoneBook.error},getFilteredContactsList:Object(P.a)([U,z],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},Z=function(t){Object(m.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(h.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",message:null},t.setMessage=function(e){t.setState({message:e}),setTimeout((function(){t.setState({message:null})}),2500)},t.handleSubmit=function(e){var n=t.state,c=n.name,a=n.number;e.preventDefault(),""!==c?""!==a?t.props.contacts.find((function(t){return t.name.toLowerCase()===c.toLowerCase()}))?t.setMessage("Contact already exists!"):(t.props.onSubmit(c,a),t.setState({name:"",number:""})):t.setMessage("Enter contact phone, please!"):t.setMessage("Enter contact name, please!")},t.handleChange=function(e){var n=e.target,c=n.name,a=n.value;t.setState(Object(d.a)({},c,a))},t}return Object(O.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.message;return c&&alert(c),Object(i.jsx)("div",{className:_.a.container,children:Object(i.jsxs)("form",{className:_.a.form,onSubmit:this.handleSubmit,children:[Object(i.jsx)("label",{children:Object(i.jsx)("input",{className:_.a.input,type:"text",value:e,name:"name",placeholder:"Name",onChange:this.handleChange})}),Object(i.jsx)("label",{children:Object(i.jsx)("input",{className:_.a.input,type:"tel",value:n,name:"number",placeholder:"Phone",onChange:this.handleChange})}),Object(i.jsx)("button",{className:_.a.btn,type:"submit",children:"Add contact"})]})})}}]),n}(c.Component),G=Object(o.b)((function(t){return{contacts:V.getAllContacts(t)}}),(function(t){return{onSubmit:function(e,n){return t(H.addContact(e,n))}}}))(Z),K=n(9),Q=n.n(K),W=Object(o.b)((function(t){return{contacts:V.getFilteredContactsList(t)}}),(function(t){return{onDelete:function(e){return t(H.deleteContact(e))},clearFilter:function(){return t(q(""))}}}))((function(t){var e=t.contacts,n=t.onDelete,c=t.clearFilter;return Object(i.jsx)("ul",{className:Q.a.list,children:e.map((function(t){var e=t.id,a=t.name,r=t.number;return Object(i.jsxs)("li",{className:Q.a.contact,children:[Object(i.jsx)("span",{className:Q.a.name,children:a}),Object(i.jsx)("span",{className:Q.a.number,children:r}),Object(i.jsx)("button",{className:Q.a.btn,onClick:function(){n(e,c())},"aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442",children:"Delete"})]},e)}))})})),X=n(15),Y=n.n(X),$=Object(o.b)((function(t){return{value:V.getFilter(t),contacts:V.getAllContacts(t)}}),(function(t){return{onChangeFilter:function(e){return t(q(e.target.value))}}}))((function(t){var e=t.value,n=t.onChangeFilter;t.contacts;return Object(i.jsx)("form",{className:Y.a.form,children:Object(i.jsxs)("label",{children:[Object(i.jsx)("span",{className:Y.a.title,children:"Search by name"}),Object(i.jsx)("input",{className:Y.a.input,type:"text",value:e,onChange:n})]})})})),tt=Object(o.b)((function(t){return{contacts:t.phoneBook.contacts}}),null)((function(t){t.contacts;return Object(i.jsxs)(l,{children:[Object(i.jsx)(j,{}),Object(i.jsx)(G,{}),Object(i.jsx)($,{}),Object(i.jsx)(W,{})]})})),et=n(14),nt=n(32),ct=n.n(nt),at=n(7),rt=n(4),ot=[],ut=!1,st=null,it=Object(F.c)(ot,(M={},Object(d.a)(M,w,(function(t,e){return e.payload})),Object(d.a)(M,E,(function(t,e){var n=e.payload;return[].concat(Object(et.a)(t),[n])})),Object(d.a)(M,A,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),M)),lt=Object(F.c)(ut,(I={},Object(d.a)(I,k,(function(){return!0})),Object(d.a)(I,w,(function(){return!1})),Object(d.a)(I,L,(function(){return!1})),Object(d.a)(I,S,(function(){return!0})),Object(d.a)(I,E,(function(){return!1})),Object(d.a)(I,B,(function(){return!1})),Object(d.a)(I,T,(function(){return!0})),Object(d.a)(I,A,(function(){return!1})),Object(d.a)(I,R,(function(){return!1})),I)),bt=Object(F.c)("",Object(d.a)({},q,(function(t,e){return e.payload}))),ft=Object(F.c)(st,(J={},Object(d.a)(J,L,(function(t,e){return e.payload})),Object(d.a)(J,B,(function(t,e){return e.payload})),Object(d.a)(J,R,(function(t,e){return e.payload})),Object(d.a)(J,D,(function(){return null})),J)),jt=Object(rt.b)({contacts:it,filter:bt,loading:lt,error:ft}),dt=[].concat(Object(et.a)(Object(F.d)({serializableCheck:{ignoredActions:[at.a,at.f,at.b,at.c,at.d,at.e]}})),[ct.a]),ht=Object(F.a)({reducer:{phoneBook:jt},middleware:dt,devTools:!1});n(64);r.a.render(Object(i.jsx)(o.a,{store:ht,children:Object(i.jsx)(tt,{})}),document.getElementById("root"))},8:function(t,e,n){t.exports={form:"ContactForm_form__1fNsa",input:"ContactForm_input__1HEom",btn:"ContactForm_btn__2fLiu",container:"ContactForm_container__3peNI"}},9:function(t,e,n){t.exports={list:"ContactList_list__2agry",contact:"ContactList_contact__3-k2T",name:"ContactList_name__2V7JO",number:"ContactList_number__3EH_n",btn:"ContactList_btn__1ZhB2"}}},[[65,1,2]]]);
//# sourceMappingURL=main.c4727449.chunk.js.map